<?php
# =============================
# FUNCIONES Y MÉTODOS COMUNES
# =============================

# echo(): imprime una o varias cadenas
echo "Hola Mundo";

# print(): similar a echo, pero retorna 1 (útil en expresiones)
print("Hola");

# var_dump(): muestra info de una variable (tipo, valor, estructura)
$var = [1, "texto", true];
var_dump($var);

# isset(): verifica si una variable está definida y no es null
if (isset($var)) {
    echo "Definida";
}

# empty(): verifica si una variable está vacía (0, "", null, false)
if (empty($var)) {
    echo "Vacía";
}

# unset(): elimina una variable
unset($var);

# strlen(): longitud de una cadena
echo strlen("texto");

# substr(): extrae parte de una cadena
echo substr("abcdef", 1, 3);  # bcd

# strpos(): busca la posición de una subcadena
echo strpos("hola mundo", "mundo");

# str_replace(): reemplaza texto
echo str_replace("mundo", "admin", "hola mundo");

# explode(): divide una cadena en array
$partes = explode(",", "uno,dos,tres");

# implode(): une array en string
echo implode("-", $partes);

# trim(): elimina espacios al inicio y final
echo trim("  texto  ");

# array_merge(): fusiona arrays
$a1 = [1, 2];
$a2 = [3, 4];
$final = array_merge($a1, $a2);

# array_push(): añade elementos al final
array_push($a1, 5, 6);

# in_array(): verifica si un valor está en array
if (in_array(3, $a2)) {
    echo "Encontrado";
}

# array_key_exists(): verifica si existe una clave
$hash = ["user" => "admin"];
if (array_key_exists("user", $hash)) {
    echo $hash["user"];
}

# json_encode(): convierte array/objeto a JSON
$json = json_encode($hash);

# json_decode(): convierte JSON a array/objeto PHP
$obj = json_decode($json, true);  # true = array asociativo

# file_get_contents(): lee archivos o URLs
$data = file_get_contents("file.txt");

# file_put_contents(): escribe contenido en archivo
file_put_contents("log.txt", "entrada nueva\n", FILE_APPEND);

# header(): envía cabeceras HTTP (útil para redirecciones o CORS)
header("Content-Type: application/json");

# die() / exit(): termina ejecución del script
if (!$authorized) {
    die("Acceso denegado");
}

# date(): devuelve fecha/hora formateada
echo date("Y-m-d H:i:s");

# time(): timestamp actual (segundos desde UNIX epoch)
$ahora = time();

# strtotime(): convierte string de fecha a timestamp
$timestamp = strtotime("2025-01-01");

# password_hash(): hashea contraseñas (bcrypt por defecto)
$hash = password_hash("clave123", PASSWORD_DEFAULT);

# password_verify(): compara una contraseña con su hash
if (password_verify("clave123", $hash)) {
    echo "Autenticado";
}

# filter_var(): sanitiza y valida datos
$email = "test@dominio.com";
if (filter_var($email, FILTER_VALIDATE_EMAIL)) {
    echo "Email válido";
}


